---
{
  "title": "How to add values to a chain's state",
  "source_url": "https://python.langchain.com/docs/how_to/assign/",
  "fetched_at": "2025-08-15T13:49:24.390100+00:00"
}
---

# How to add values to a chain's state

from
langchain_community
.
vectorstores
import
FAISS
from
langchain_core
.
output_parsers
import
StrOutputParser
from
langchain_core
.
prompts
import
ChatPromptTemplate
from
langchain_core
.
runnables
import
RunnablePassthrough
from
langchain_openai
import
ChatOpenAI
,
OpenAIEmbeddings
vectorstore
=
FAISS
.
from_texts
(
[
"harrison worked at kensho"
]
,
embedding
=
OpenAIEmbeddings
(
)
)
retriever
=
vectorstore
.
as_retriever
(
)
template
=
"""Answer the question based only on the following context:
{context}
Question: {question}
"""
prompt
=
ChatPromptTemplate
.
from_template
(
template
)
model
=
ChatOpenAI
(
)
generation_chain
=
prompt
|
model
|
StrOutputParser
(
)
retrieval_chain
=
{
"context"
:
retriever
,
"question"
:
RunnablePassthrough
(
)
,
}
|
RunnablePassthrough
.
assign
(
output
=
generation_chain
)
stream
=
retrieval_chain
.
stream
(
"where did harrison work?"
)
for
chunk
in
stream
:
print
(
chunk
)
