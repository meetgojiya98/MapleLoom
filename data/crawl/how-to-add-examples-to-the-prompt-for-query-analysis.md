---
{
  "title": "How to add examples to the prompt for query analysis",
  "source_url": "https://python.langchain.com/docs/how_to/query_few_shot/",
  "fetched_at": "2025-08-15T13:49:04.349230+00:00"
}
---

# How to add examples to the prompt for query analysis

import
uuid
from
typing
import
Dict
from
langchain_core
.
messages
import
(
AIMessage
,
BaseMessage
,
HumanMessage
,
SystemMessage
,
ToolMessage
,
)
def
tool_example_to_messages
(
example
:
Dict
)
-
>
List
[
BaseMessage
]
:
messages
:
List
[
BaseMessage
]
=
[
HumanMessage
(
content
=
example
[
"input"
]
)
]
openai_tool_calls
=
[
]
for
tool_call
in
example
[
"tool_calls"
]
:
openai_tool_calls
.
append
(
{
"id"
:
str
(
uuid
.
uuid4
(
)
)
,
"type"
:
"function"
,
"function"
:
{
"name"
:
tool_call
.
__class__
.
__name__
,
"arguments"
:
tool_call
.
json
(
)
,
}
,
}
)
messages
.
append
(
AIMessage
(
content
=
""
,
additional_kwargs
=
{
"tool_calls"
:
openai_tool_calls
}
)
)
tool_outputs
=
example
.
get
(
"tool_outputs"
)
or
[
"You have correctly called this tool."
]
*
len
(
openai_tool_calls
)
for
output
,
tool_call
in
zip
(
tool_outputs
,
openai_tool_calls
)
:
messages
.
append
(
ToolMessage
(
content
=
output
,
tool_call_id
=
tool_call
[
"id"
]
)
)
return
messages
example_msgs
=
[
msg
for
ex
in
examples
for
msg
in
tool_example_to_messages
(
ex
)
]
