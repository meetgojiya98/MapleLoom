---
{
  "title": "A Long-Term Memory Agent",
  "source_url": "https://python.langchain.com/docs/versions/migrating_memory/long_term_memory_agent/",
  "fetched_at": "2025-08-15T13:52:10.762282+00:00"
}
---

# A Long-Term Memory Agent

import
json
from
typing
import
List
,
Literal
,
Optional
import
tiktoken
from
langchain_core
.
documents
import
Document
from
langchain_core
.
embeddings
import
Embeddings
from
langchain_core
.
messages
import
get_buffer_string
from
langchain_core
.
prompts
import
ChatPromptTemplate
from
langchain_core
.
runnables
import
RunnableConfig
from
langchain_core
.
tools
import
tool
from
langchain_core
.
vectorstores
import
InMemoryVectorStore
from
langchain_openai
import
ChatOpenAI
from
langchain_openai
.
embeddings
import
OpenAIEmbeddings
from
langchain_tavily
import
TavilySearch
from
langgraph
.
checkpoint
.
memory
import
MemorySaver
from
langgraph
.
graph
import
END
,
START
,
MessagesState
,
StateGraph
from
langgraph
.
prebuilt
import
ToolNode
